/**
 * This is a very small example that shows how to use
 * === OUTPUT COMPARE and INPUT CAPTURE ===
 * The system uses hardware to generate precisely timed
 * pulses, then uses input capture to compare the capture period
 * to the generation period for accuracy
 *
 * There is a capture time print-summary thread
 * There is a one second timer tick thread
 * 
 * On the SECABB:
 * -- Pin RB5 and RB9 are output compare outputs
 * -- Pin RB13 is input capture input -- connect this to one of the output compares
 *
 * Modified by Bruce Land 
 * Jan 2018
 */

////////////////////////////////////
// clock AND protoThreads configure!
// You MUST check this file!
#include <string.h>
#include "config_1_3_2.h"
// threading library
#include "pt_cornell_1_3_2.h"

////////////////////////////////////
// graphics libraries
#include "tft_master.h"
#include "tft_gfx.h"
// need for rand function
#include <stdlib.h>
////////////////////////////////////

// lock out timer interrupt during spi comm to port expander
// This is necessary if you use the SPI2 channel in an ISR
#define start_spi2_critical_section INTEnable(INT_T2, 0);
#define end_spi2_critical_section INTEnable(INT_T2, 1);

//== Timer 2 interrupt handler ===========================================
volatile unsigned int DAC_data_A, DAC_data_B; // output values
volatile SpiChannel spiChn = SPI_CHANNEL2;    // the SPI channel to use
volatile int spiClkDiv = 4;                   // 10 MHz max speed for port expander!!

////////////////////////////////////
// Audio DAC ISR
// A-channel, 1x, active
#define DAC_config_chan_A 0b0011000000000000
// B-channel, 1x, active
#define DAC_config_chan_B 0b1011000000000000
// audio sample frequency
#define Fs 44100.0
// sound length
#define SOUND_N 10992
// enigma sound
const unsigned int sound[SOUND_N] = {2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2093,2093,2093,2094,2094,2093,2093,2094,2093,2093,2093,2093,2093,2093,2094,2094,2093,2093,2093,2094,2094,2094,2094,2094,2093,2093,2094,2094,2094,2093,2093,2093,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2093,2093,2094,2093,2093,2093,2093,2093,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2093,2094,2094,2094,2094,2094,2094,2093,2093,2093,2094,2093,2093,2093,2093,2093,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2093,2093,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2094,2093,2093,2093,2093,2093,2093,2094,2094,2093,2093,2093,2094,2094,2094,2094,2093,2093,2093,2094,2094,2094,2093,2093,2094,2094,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2094,2093,2093,2093,2094,2094,2094,2094,2093,2093,2094,2093,2093,2093,2093,2092,2092,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2094,2094,2094,2095,2095,2094,2094,2094,2092,2089,2087,2087,2087,2087,2086,2086,2086,2086,2087,2088,2088,2088,2087,2087,2088,2088,2088,2088,2088,2088,2088,2088,2088,2088,2088,2088,2089,2089,2089,2089,2090,2090,2090,2090,2090,2090,2090,2091,2091,2091,2091,2091,2091,2091,2091,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2091,2091,2091,2092,2092,2092,2091,2091,2091,2092,2092,2093,2092,2091,2091,2091,2092,2091,2090,2089,2089,2089,2089,2090,2091,2091,2091,2091,2090,2090,2090,2089,2089,2090,2090,2091,2091,2092,2091,2091,2090,2090,2090,2091,2090,2089,2088,2088,2089,2090,2090,2089,2088,2089,2089,2090,2090,2089,2088,2088,2088,2088,2087,2087,2087,2087,2088,2088,2088,2088,2088,2088,2087,2087,2086,2087,2087,2087,2087,2087,2087,2087,2086,2086,2086,2087,2087,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2086,2085,2085,2086,2086,2087,2087,2087,2087,2087,2086,2086,2087,2087,2087,2087,2087,2086,2086,2087,2087,2087,2086,2086,2086,2087,2087,2087,2087,2087,2087,2087,2086,2086,2087,2087,2087,2087,2087,2087,2087,2087,2087,2088,2088,2088,2088,2089,2089,2089,2088,2089,2089,2090,2089,2089,2089,2090,2090,2090,2090,2089,2090,2090,2090,2090,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2088,2088,2089,2089,2090,2089,2089,2089,2089,2089,2090,2090,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2089,2090,2090,2090,2089,2089,2089,2090,2090,2090,2090,2090,2090,2090,2090,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2091,2092,2091,2091,2091,2091,2091,2091,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2091,2091,2091,2092,2092,2092,2092,2091,2092,2092,2092,2092,2092,2092,2091,2091,2092,2092,2093,2092,2092,2092,2092,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2092,2092,2093,2093,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2091,2092,2092,2092,2093,2093,2093,2092,2092,2092,2093,2093,2093,2093,2092,2092,2092,2093,2093,2093,2093,2092,2093,2093,2093,2093,2092,2092,2092,2093,2093,2093,2093,2092,2092,2093,2093,2093,2093,2093,2092,2092,2092,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2092,2092,2092,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2095,2094,2094,2094,2095,2095,2095,2095,2095,2095,2095,2095,2095,2096,2096,2096,2096,2095,2095,2095,2095,2096,2096,2096,2096,2095,2096,2096,2096,2096,2096,2095,2095,2095,2095,2096,2096,2095,2095,2095,2095,2096,2096,2095,2095,2095,2095,2095,2096,2095,2095,2095,2095,2095,2095,2096,2096,2095,2095,2094,2094,2094,2095,2095,2095,2095,2094,2094,2094,2095,2095,2095,2094,2094,2094,2094,2094,2095,2095,2095,2094,2094,2094,2094,2095,2095,2095,2095,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2094,2094,2094,2094,2094,2095,2094,2094,2095,2095,2095,2095,2095,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2095,2095,2094,2094,2094,2094,2094,2094,2094,2093,2093,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2092,2092,2093,2093,2093,2093,2092,2092,2092,2092,2092,2092,2092,2093,2093,2093,2093,2093,2093,2093,2092,2092,2092,2092,2092,2092,2091,2092,2092,2092,2092,2092,2092,2091,2091,2091,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2092,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2094,2094,2094,2094,2094,2095,2096,2095,2095,2094,2093,2094,2094,2095,2094,2094,2094,2095,2095,2096,2095,2094,2094,2094,2095,2095,2096,2095,2094,2094,2094,2095,2095,2095,2095,2094,2094,2094,2095,2095,2095,2095,2094,2093,2094,2094,2095,2095,2094,2094,2094,2094,2095,2095,2094,2094,2094,2094,2095,2095,2095,2095,2095,2095,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2095,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2094,2094,2094,2094,2093,2093,2094,2094,2094,2094,2093,2093,2093,2094,2094,2094,2094,2093,2093,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2094,2094,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2095,2095,2094,2094,2094,2095,2095,2095,2095,2095,2094,2094,2095,2095,2095,2095,2095,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2094,2094,2094,2094,2093,2093,2093,2094,2094,2094,2093,2093,2093,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2094,2094,2094,2094,2094,2094,2093,2093,2094,2094,2094,2094,2093,2093,2094,2094,2094,2093,2093,2093,2093,2093,2094,2094,2094,2093,2093,2093,2093,2093,2094,2093,2093,2093,2093,2093,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2095,2095,2094,2094,2094,2095,2095,2095,2095,2094,2094,2094,2094,2094,2095,2095,2095,2094,2094,2094,2094,2094,2095,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2093,2093,2093,2093,2093,2093,2093,2093,2093,2094,2094,2094,2093,2093,2094,2094,2094,2094,2094,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2094,2095,2095,2095,2096,2095,2095,2094,2094,2095,2095,2095,2095,2095,2095,2095,2095,2095,2096,2096,2096,2095,2095,2096,2096,2096,2096,2096,2095,2095,2096,2096,2096,2096,2096,2096,2096,2096,2097,2097,2097,2096,2096,2096,2096,2096,2096,2096,2096,2096,2097,2097,2097,2097,2096,2096,2095,2096,2097,2097,2096,2095,2096,2096,2096,2096,2095,2095,2096,2096,2096,2095,2094,2095,2095,2095,2095,2095,2095,2095,2095,2094,2094,2095,2095,2096,2095,2094,2094,2095,2095,2095,2095,2094,2094,2094,2095,2095,2094,2095,2095,2095,2094,2095,2095,2095,2094,2094,2094,2094,2094,2094,2094,2094,2093,2093,2094,2094,2094,2095,2095,2094,2094,2094,2094,2094,2094,2094,2094,2094,2094,2095,2094,2093,2093,2094,2094,2094,2095,2094,2094,2094,2094,2095,2095,2095,2095,2095,2095,2095,2095,2095,2094,2094,2094,2095,2095,2095,2095,2095,2094,2094,2094,2094,2093,2094,2095,2096,2095,2094,2094,2094,2095,2095,2095,2094,2093,2093,2094,2094,2094,2094,2095,2096,2095,2094,2094,2095,2096,2095,2096,2096,2095,2095,2095,2095,2094,2094,2094,2094,2095,2095,2096,2095,2094,2094,2094,2095,2095,2095,2094,2095,2095,2095,2096,2096,2096,2096,2095,2095,2096,2096,2096,2096,2096,2096,2097,2097,2097,2097,2097,2097,2097,2096,2095,2096,2096,2096,2096,2096,2096,2096,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2096,2096,2096,2097,2097,2097,2097,2097,2096,2096,2096,2097,2098,2098,2097,2097,2096,2097,2097,2097,2097,2097,2098,2097,2097,2097,2097,2096,2097,2097,2097,2097,2097,2096,2097,2098,2099,2099,2098,2097,2097,2097,2097,2097,2097,2098,2098,2099,2098,2097,2097,2097,2097,2098,2098,2097,2097,2098,2097,2096,2097,2098,2098,2098,2098,2097,2097,2097,2096,2097,2098,2098,2098,2098,2097,2097,2097,2097,2098,2097,2097,2098,2098,2097,2098,2098,2097,2097,2097,2097,2097,2098,2098,2098,2098,2097,2097,2097,2097,2097,2097,2098,2098,2097,2097,2096,2096,2097,2097,2097,2096,2096,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2097,2098,2098,2097,2097,2096,2096,2096,2097,2097,2097,2096,2095,2096,2097,2097,2096,2096,2097,2097,2096,2096,2095,2095,2096,2097,2096,2095,2095,2096,2096,2095,2094,2094,2095,2096,2096,2096,2096,2096,2096,2096,2096,2097,2097,2096,2096,2095,2096,2097,2098,2098,2096,2095,2095,2096,2096,2097,2097,2098,2098,2097,2096,2096,2096,2096,2096,2097,2097,2096,2097,2097,2097,2096,2096,2097,2098,2097,2097,2096,2096,2096,2097,2097,2097,2097,2097,2098,2097,2096,2095,2095,2096,2097,2097,2098,2098,2097,2095,2095,2097,2097,2097,2096,2096,2096,2096,2096,2095,2095,2096,2096,2096,2097,2096,2095,2096,2097,2096,2096,2096,2096,2096,2096,2096,2096,2096,2097,2097,2098,2097,2095,2095,2096,2098,2097,2096,2096,2095,2096,2097,2097,2097,2096,2096,2097,2096,2095,2097,2098,2097,2096,2095,2096,2098,2097,2096,2096,2097,2097,2097,2097,2097,2097,2096,2097,2098,2098,2096,2096,2097,2098,2098,2098,2097,2098,2098,2100,2100,2099,2097,2097,2099,2100,2099,2097,2098,2098,2098,2098,2099,2098,2098,2100,2100,2098,2098,2099,2100,2099,2098,2100,2100,2098,2098,2099,2100,2099,2098,2099,2099,2098,2098,2099,2098,2097,2098,2099,2098,2098,2098,2098,2099,2098,2097,2097,2100,2099,2097,2095,2094,2097,2098,2097,2097,2097,2096,2097,2098,2098,2097,2097,2098,2097,2098,2098,2096,2095,2097,2098,2097,2095,2096,2100,2100,2095,2092,2095,2098,2098,2097,2096,2096,2097,2096,2096,2097,2097,2096,2096,2095,2094,2095,2098,2097,2095,2095,2096,2096,2096,2096,2098,2098,2096,2095,2095,2095,2095,2096,2097,2096,2094,2093,2093,2094,2096,2095,2094,2097,2098,2095,2095,2097,2097,2098,2098,2095,2093,2094,2093,2092,2094,2095,2094,2092,2091,2093,2095,2095,2096,2096,2094,2094,2094,2094,2096,2095,2091,2091,2091,2091,2097,2098,2091,2088,2090,2091,2095,2098,2094,2092,2098,2099,2095,2092,2094,2097,2095,2092,2093,2097,2095,2090,2087,2089,2095,2100,2099,2094,2092,2093,2098,2099,2095,2093,2098,2100,2092,2085,2090,2097,2095,2091,2092,2093,2093,2094,2094,2093,2093,2097,2101,2099,2091,2089,2094,2099,2096,2091,2091,2094,2096,2096,2095,2090,2088,2093,2099,2098,2091,2087,2093,2100,2097,2092,2094,2093,2089,2092,2097,2093,2086,2085,2090,2096,2097,2091,2088,2092,2095,2097,2098,2095,2092,2090,2092,2093,2093,2094,2095,2094,2095,2095,2091,2091,2097,2100,2096,2093,2094,2094,2094,2096,2099,2098,2093,2093,2097,2099,2097,2094,2092,2092,2091,2091,2092,2094,2094,2093,2094,2096,2095,2093,2092,2093,2093,2095,2097,2094,2093,2095,2096,2094,2093,2092,2091,2092,2094,2097,2097,2095,2095,2096,2094,2094,2095,2095,2098,2100,2093,2088,2091,2092,2093,2095,2094,2092,2093,2092,2091,2091,2090,2090,2091,2090,2092,2094,2091,2089,2092,2093,2091,2090,2090,2092,2094,2091,2089,2092,2093,2093,2093,2091,2090,2090,2091,2094,2095,2091,2090,2092,2092,2090,2090,2090,2092,2095,2093,2090,2091,2091,2090,2091,2093,2092,2091,2091,2092,2090,2089,2089,2091,2092,2091,2091,2092,2090,2087,2088,2090,2089,2090,2092,2093,2093,2093,2091,2091,2092,2091,2091,2092,2090,2091,2095,2094,2091,2090,2089,2088,2091,2092,2092,2092,2090,2089,2094,2097,2092,2088,2090,2093,2093,2092,2092,2090,2092,2095,2093,2089,2089,2090,2090,2091,2090,2088,2088,2090,2089,2089,2090,2090,2091,2090,2089,2090,2090,2088,2089,2092,2093,2093,2089,2086,2088,2091,2092,2092,2090,2087,2088,2092,2095,2093,2091,2091,2094,2093,2089,2088,2092,2093,2089,2089,2091,2091,2092,2095,2094,2091,2092,2094,2091,2089,2092,2092,2091,2093,2096,2096,2093,2091,2090,2092,2095,2096,2095,2095,2096,2092,2090,2095,2095,2091,2091,2092,2094,2098,2096,2091,2094,2097,2096,2096,2094,2091,2092,2093,2092,2091,2092,2093,2094,2090,2089,2094,2096,2092,2091,2093,2092,2092,2093,2093,2096,2097,2092,2089,2092,2093,2092,2091,2092,2093,2094,2094,2092,2092,2096,2096,2090,2090,2095,2094,2092,2092,2093,2095,2093,2088,2088,2092,2092,2096,2100,2098,2095,2093,2092,2093,2097,2096,2093,2094,2093,2090,2091,2098,2099,2092,2088,2094,2098,2094,2092,2094,2096,2093,2091,2094,2099,2098,2094,2093,2096,2099,2098,2093,2088,2090,2096,2099,2098,2095,2092,2091,2091,2094,2097,2095,2089,2086,2091,2098,2098,2094,2093,2095,2093,2092,2092,2089,2088,2092,2093,2090,2089,2090,2089,2088,2091,2091,2088,2088,2092,2093,2090,2086,2087,2092,2093,2091,2089,2088,2089,2092,2092,2090,2090,2093,2093,2090,2089,2091,2092,2090,2089,2092,2094,2091,2089,2090,2092,2093,2090,2087,2090,2093,2092,2090,2090,2090,2092,2092,2090,2092,2095,2090,2088,2091,2092,2093,2093,2091,2091,2090,2088,2089,2092,2090,2089,2091,2090,2092,2095,2091,2086,2085,2087,2092,2093,2089,2087,2089,2088,2087,2091,2091,2088,2085,2084,2088,2090,2088,2087,2089,2089,2087,2088,2088,2089,2090,2089,2089,2089,2089,2090,2089,2085,2087,2091,2090,2090,2092,2092,2091,2092,2091,2092,2096,2094,2090,2092,2095,2093,2092,2093,2093,2094,2094,2091,2092,2096,2095,2092,2093,2096,2095,2094,2094,2095,2096,2095,2094,2094,2093,2093,2093,2094,2094,2094,2092,2092,2093,2092,2093,2094,2092,2092,2094,2092,2090,2091,2092,2092,2093,2092,2089,2089,2089,2090,2093,2093,2092,2091,2091,2091,2092,2092,2092,2091,2089,2089,2090,2088,2088,2092,2092,2089,2088,2087,2087,2090,2093,2092,2092,2090,2090,2091,2091,2091,2092,2091,2091,2093,2092,2092,2092,2092,2091,2093,2093,2092,2093,2092,2091,2093,2096,2096,2095,2094,2094,2096,2097,2097,2096,2094,2093,2095,2097,2097,2098,2098,2098,2097,2097,2097,2099,2100,2099,2098,2099,2100,2099,2098,2099,2099,2098,2097,2097,2098,2099,2098,2098,2099,2099,2099,2099,2097,2098,2100,2100,2098,2097,2096,2094,2095,2095,2095,2096,2097,2097,2096,2096,2097,2097,2096,2095,2096,2096,2095,2096,2096,2094,2095,2096,2096,2095,2094,2094,2094,2095,2095,2095,2095,2094,2094,2095,2097,2095,2094,2095,2095,2094,2095,2096,2095,2095,2095,2096,2096,2096,2095,2096,2097,2096,2096,2096,2096,2097,2097,2095,2094,2096,2099,2097,2095,2097,2097,2095,2095,2097,2097,2095,2097,2098,2097,2096,2097,2097,2096,2096,2097,2097,2096,2096,2097,2096,2095,2096,2097,2096,2095,2095,2094,2093,2095,2097,2095,2093,2094,2097,2097,2096,2096,2095,2095,2096,2096,2094,2094,2094,2094,2094,2095,2096,2095,2094,2093,2094,2095,2094,2094,2095,2095,2095,2095,2095,2095,2095,2096,2097,2095,2093,2094,2095,2095,2096,2096,2095,2096,2096,2095,2096,2096,2095,2094,2095,2095,2094,2093,2094,2095,2095,2094,2094,2094,2094,2095,2096,2096,2096,2095,2095,2096,2097,2096,2095,2097,2097,2096,2096,2095,2096,2097,2097,2095,2096,2097,2096,2096,2097,2098,2098,2097,2096,2097,2097,2097,2097,2097,2097,2097,2096,2097,2098,2097,2096,2097,2097,2096,2095,2095,2096,2098,2098,2096,2096,2097,2096,2096,2098,2098,2096,2095,2095,2097,2097,2097,2097,2097,2097,2097,2096,2096,2097,2097,2097,2096,2096,2095,2096,2096,2096,2096,2095,2094,2095,2096,2095,2095,2095,2096,2095,2095,2094,2095,2095,2096,2096,2097,2098,2097,2096,2096,2097,2096,2097,2097,2097,2098,2098,2097,2097,2099,2098,2097,2097,2098,2098,2099,2099,2098,2097,2098,2099,2099,2099,2099,2099,2098,2097,2098,2098,2099,2100,2100,2099,2099,2099,2099,2099,2099,2098,2099,2098,2098,2099,2099,2099,2100,2099,2097,2098,2099,2098,2098,2100,2100,2100,2099,2099,2099,2100,2100,2099,2099,2099,2100,2100,2100,2101,2102,2100,2100,2100,2100,2100,2100,2099,2099,2099,2097,2097,2097,2098,2100,2100,2099,2099,2099,2098,2099,2101,2100,2099,2099,2099,2099,2098,2098,2098,2100,2100,2099,2098,2098,2098,2099,2101,2101,2100,2098,2098,2098,2100,2101,2099,2097,2097,2098,2098,2096,2096,2095,2095,2098,2099,2099,2098,2098,2097,2097,2098,2098,2097,2097,2096,2096,2097,2096,2095,2096,2097,2097,2098,2097,2095,2095,2097,2099,2098,2097,2096,2096,2097,2098,2097,2096,2096,2097,2097,2097,2096,2094,2095,2096,2097,2097,2097,2096,2096,2097,2098,2098,2098,2097,2096,2096,2098,2097,2096,2096,2096,2097,2098,2098,2096,2095,2096,2097,2097,2097,2097,2096,2096,2097,2097,2096,2097,2097,2097,2097,2096,2096,2096,2095,2095,2096,2097,2096,2095,2095,2096,2097,2096,2095,2094,2095,2097,2096,2094,2094,2095,2095,2095,2094,2094,2094,2095,2094,2094,2094,2094,2094,2094,2094,2095,2095,2094,2094,2094,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2095,2096,2096,2095,2095,2096,2096,2096,2096,2096,2096,2097,2097,2096,2096,2097,2097,2097,2097,2097,2097,2097,2096,2097,2098,2098,2097,2096,2096,2096,2097,2096,2097,2098,2097,2096,2096,2096,2097,2097,2096,2097,2097,2097,2097,2097,2097,2098,2098,2097,2097,2098,2098,2097,2097,2096,2098,2098,2097,2097,2098,2097,2097,2097,2097,2098,2097,2095,2096,2097,2097,2097,2096,2095,2097,2097,2095,2097,2097,2096,2097,2096,2096,2097,2098,2097,2097,2098,2097,2098,2098,2097,2098,2098,2097,2098,2099,2098,2099,2098,2098,2099,2098,2098,2099,2099,2098,2099,2098,2098,2099,2098,2097,2099,2099,2098,2098,2098,2097,2099,2098,2097,2098,2098,2098,2099,2098,2097,2098,2098,2097,2098,2098,2097,2098,2097,2097,2099,2098,2097,2098,2097,2097,2099,2098,2098,2099,2097,2096,2098,2097,2097,2098,2098,2097,2097,2096,2096,2097,2097,2097,2097,2097,2097,2097,2096,2096,2097,2097,2097,2097,2096,2096,2097,2096,2096,2096,2096,2098,2097,2096,2095,2095,2096,2097,2096,2096,2096,2094,2094,2095,2095,2094,2095,2095,2095,2095,2094,2095,2094,2094,2096,2097,2097,2097,2095,2093,2095,2096,2094,2095,2096,2094,2095,2095,2095,2095,2095,2093,2093,2093,2092,2094,2094,2091,2092,2093,2094,2096,2095,2092,2093,2095,2094,2094,2092,2089,2091,2093,2091,2092,2092,2089,2090,2092,2092,2093,2093,2090,2091,2094,2093,2092,2093,2091,2091,2095,2095,2094,2093,2092,2091,2092,2093,2093,2093,2090,2088,2090,2091,2092,2093,2090,2089,2093,2091,2090,2094,2091,2087,2091,2094,2093,2092,2090,2089,2091,2092,2092,2094,2093,2089,2090,2092,2090,2089,2090,2090,2091,2092,2093,2095,2094,2089,2088,2095,2095,2089,2091,2096,2091,2085,2087,2090,2093,2093,2094,2102,2103,2095,2093,2091,2084,2087,2096,2095,2093,2094,2093,2091,2085,2081,2089,2091,2089,2095,2099,2095,2096,2091,2085,2093,2096,2085,2087,2096,2098,2098,2095,2088,2085,2080,2081,2094,2100,2099,2105,2100,2089,2092,2093,2086,2086,2087,2085,2088,2087,2082,2082,2079,2076,2082,2084,2083,2085,2081,2080,2093,2101,2097,2093,2089,2088,2096,2107,2113,2112,2102,2093,2086,2084,2087,2086,2080,2084,2092,2095,2095,2085,2076,2090,2102,2096,2098,2103,2096,2098,2094,2068,2058,2070,2082,2097,2100,2088,2096,2108,2093,2093,2114,2115,2109,2117,2110,2102,2106,2094,2075,2079,2080,2068,2070,2076,2080,2089,2088,2087,2107,2112,2089,2092,2112,2094,2069,2083,2109,2119,2108,2072,2061,2100,2131,2125,2109,2091,2082,2090,2086,2079,2094,2089,2062,2071,2102,2106,2086,2059,2053,2082,2107,2107,2110,2116,2113,2103,2100,2109,2099,2058,2048,2076,2084,2086,2096,2089,2102,2115,2073,2057,2103,2110,2103,2135,2119,2067,2067,2089,2102,2117,2110,2111,2124,2105,2097,2107,2068,2046,2088,2086,2053,2079,2101,2079,2074,2084,2083,2069,2051,2074,2119,2118,2103,2113,2114,2117,2139,2122,2083,2082,2080,2050,2058,2109,2121,2085,2075,2107,2115,2079,2049,2060,2093,2117,2119,2118,2121,2119,2107,2090,2082,2092,2087,2055,2045,2075,2108,2111,2092,2075,2065,2069,2098,2119,2100,2084,2099,2103,2088,2079,2076,2084,2095,2085,2075,2087,2089,2070,2060,2080,2122,2133,2086,2045,2053,2065,2060,2063,2078,2085,2072,2067,2093,2117,2111,2097,2089,2087,2098,2108,2110,2114,2095,2052,2043,2083,2100,2075,2069,2095,2102,2083,2083,2098,2091,2074,2074,2077,2062,2045,2054,2091,2099,2060,2048,2075,2070,2056,2086,2104,2084,2079,2088,2092,2111,2113,2083,2074,2088,2100,2119,2119,2081,2066,2082,2091,2093,2086,2069,2074,2085,2083,2093,2099,2067,2039,2051,2082,2094,2081,2078,2094,2083,2060,2079,2104,2103,2104,2099,2083,2093,2104,2084,2070,2071,2065,2070,2092,2101,2097,2093,2090,2085,2081,2080,2086,2096,2106,2106,2085,2067,2078,2086,2069,2064,2092,2113,2106,2089,2081,2084,2088,2088,2088,2087,2086,2087,2087,2092,2101,2092,2071,2074,2091,2085,2073,2082,2096,2092,2078,2075,2080,2073,2062,2069,2078,2075,2082,2093,2093,2093,2093,2086,2089,2094,2081,2076,2085,2084,2087,2097,2097,2095,2090,2076,2076,2088,2080,2070,2078,2086,2087,2086,2089,2104,2110,2086,2069,2077,2086,2094,2094,2083,2093,2109,2096,2085,2094,2083,2073,2082,2067,2059,2100,2124,2102,2092,2098,2087,2086,2108,2109,2080,2074,2108,2134,2128,2108,2086,2077,2092,2098,2078,2074,2093,2099,2092,2086,2085,2101,2119,2102,2074,2073,2081,2075,2069,2074,2095,2130,2146,2112,2067,2067,2093,2099,2078,2054,2060,2107,2144,2130,2092,2071,2074,2084,2084,2085,2098,2102,2080,2063,2093,2155,2181,2140,2072,2032,2044,2093,2116,2088,2067,2092,2127,2140,2119,2075,2057,2070,2077,2083,2098,2098,2088,2085,2082,2089,2117,2127,2096,2067,2068,2085,2102,2095,2076,2092,2142,2156,2111,2051,2024,2051,2110,2141,2118,2080,2078,2107,2124,2117,2097,2069,2050,2056,2074,2099,2115,2096,2071,2083,2113,2136,2135,2082,2019,2031,2088,2119,2122,2097,2070,2095,2135,2124,2089,2071,2074,2097,2112,2094,2072,2071,2085,2106,2121,2116,2097,2074,2063,2081,2109,2116,2094,2062,2059,2098,2135,2121,2073,2041,2056,2096,2123,2119,2088,2063,2073,2096,2100,2093,2082,2068,2071,2085,2092,2105,2113,2097,2089,2092,2081,2075,2079,2073,2074,2090,2087,2078,2082,2082,2086,2104,2107,2096,2095,2097,2095,2092,2086,2085,2088,2089,2088,2083,2077,2079,2086,2092,2101,2104,2097,2097,2095,2080,2073,2078,2080,2082,2084,2084,2088,2093,2100,2112,2115,2100,2082,2079,2078,2068,2072,2088,2082,2071,2082,2079,2062,2079,2098,2093,2100,2112,2099,2096,2108,2101,2089,2090,2086,2077,2078,2091,2099,2094,2094,2092,2071,2062,2072,2072,2087,2117,2109,2095,2106,2092,2087,2127,2138,2106,2101,2098,2076,2085,2110,2106,2091,2082,2075,2081,2098,2116,2120,2104,2083,2068,2061,2071,2086,2087,2085,2080,2068,2074,2093,2105,2115,2117,2102,2096,2105,2111,2120,2127,2113,2087,2064,2054,2073,2100,2115,2121,2110,2076,2060,2075,2091,2101,2116,2123,2108,2082,2077,2090,2084,2080,2102,2103,2082,2098,2129,2124,2123,2137,2114,2071,2064,2080,2089,2102,2117,2108,2078,2062,2072,2081,2084,2102,2122,2114,2099,2105,2109,2093,2087,2101,2104,2097,2109,2121,2102,2083,2086,2090,2090,2102,2119,2124,2110,2086,2076,2078,2074,2075,2090,2084,2056,2059,2087,2089,2089,2119,2120,2078,2071,2096,2087,2080,2110,2111,2075,2073,2092,2081,2077,2105,2116,2097,2088,2088,2083,2085,2100,2109,2104,2094,2088,2089,2087,2083,2092,2104,2096,2087,2100,2111,2107,2115,2125,2115,2100,2094,2080,2061,2061,2074,2077,2066,2059,2070,2086,2088,2081,2074,2058,2047,2066,2085,2079,2083,2105,2095,2068,2075,2090,2078,2076,2091,2081,2071,2094,2104,2086,2093,2120,2119,2102,2089,2073,2069,2089,2098,2083,2071,2072,2073,2080,2091,2097,2107,2118,2105,2081,2078,2092,2100,2105,2104,2098,2099,2100,2091,2082,2085,2093,2094,2078,2057,2062,2092,2112,2107,2092,2080,2080,2095,2110,2113,2122,2137,2130,2104,2090,2095,2106,2112,2099,2077,2082,2106,2109,2093,2084,2080,2083,2098,2107,2105,2119,2136,2114,2072,2059,2073,2088,2104,2113,2106,2096,2093,2078,2061,2070,2106,2131,2123,2094,2074,2074,2085,2093,2093,2087,2085,2089,2087,2081,2091,2121,2148,2152,2139,2121,2107,2089,2066,2050,2060,2092,2114,2107,2085,2079,2096,2107,2092,2071,2076,2099,2110,2102,2095,2103,2120,2122,2099,2072,2073,2088,2086,2071,2083,2123,2149,2137,2113,2106,2109,2102,2087,2076,2071,2080,2096,2100,2091,2093,2104,2100,2087,2090,2109,2119,2115,2112,2112,2099,2083,2091,2110,2099,2071,2078,2113,2123,2088,2046,2048,2094,2127,2109,2081,2100,2136,2125,2072,2044,2069,2111,2128,2108,2081,2083,2102,2094,2075,2106,2153,2120,2050,2058,2117,2121,2079,2072,2099,2122,2128,2102,2044,2023,2075,2131,2122,2092,2090,2093,2080,2079,2099,2123,2141,2139,2118,2104,2097,2070,2046,2064,2083,2069,2071,2107,2115,2096,2115,2157,2153,2121,2114,2110,2081,2056,2057,2061,2073,2105,2120,2103,2092,2103,2110,2106,2088,2055,2076,2178,2226,2134,2029,2028,2071,2097,2120,2111,2063,2082,2176,2182,2066,2011,2080,2127,2100,2108,2153,2132,2058,2034,2079,2139,2161,2104,2018,2028,2119,2134,2067,2068,2155,2196,2144,2056,2016,2086,2192,2159,2004,1956,2080,2171,2115,2039,2053,2094,2100,2122,2171,2142,2017,1956,2036,2120,2121,2121,2155,2145,2088,2052,2041,2037,2076,2143,2143,2088,2087,2116,2071,2011,2058,2140,2108,2005,1977,2057,2156,2183,2142,2111,2119,2133,2140,2129,2081,2015,1970,1966,2034,2142,2176,2140,2115,2084,2061,2112,2112,1989,1995,2166,2174,2048,2098,2192,2095,2026,2109,2085,1934,1951,2173,2308,2162,1942,2016,2264,2198,1911,1927,2144,2126,2024,2126,2209,2072,1936,2004,2208,2341,2262,2106,2047,1990,1914,2027,2202,2091,1895,2005,2220,2215,2144,2153,2110,2047,2080,2070,1963,2001,2214,2289,2135,2003,2033,2124,2162,2099,1999,2039,2224,2261,2026,1848,1980,2186,2184,2074,2045,2068,2093,2151,2189,2113,2013,2052,2165,2175,2080,2015,2020,2050,2064,2055,2062,2118,2146,2118,2191,2354,2286,1966,1842,2017,2085,1985,2055,2226,2172,2019,2079,2264,2274,2039,1808,1855,2055,2098,2121,2285,2216,1895,1908,2081,1905,2078,2811,2382,560,116,2046,3728,3715,3501,3808,3439,1813,92,0,1765,3228,2577,1284,1729,3363,3853,2476,733,615,2430,4095,3568,1529,345,1089,2574,3098,2636,2408,2443,1821,1095,1456,2379,2845,3039,3071,2499,1644,1201,1263,1734,2279,2182,1586,1504,2058,2447,2308,1768,1226,1469,2573,3269,2728,1829,1615,1850,1948,1995,2086,1925,1698,1939,2324,2226,2015,2066,1867,1489,1803,2571,2722,2268,1975,2089,2414,2603,2399,2110,2070,2048,1981,2124,2298,2326,2425,2416,2040,1782,1900,1950,2000,2353,2477,2049,1749,1926,2169,2297,2344,2191,1881,1593,1447,1650,2176,2509,2332,1886,1486,1361,1675,2248,2660,2641,2193,1672,1565,1848,2104,2249,2381,2297,1934,1726,1954,2265,2236,1977,1834,1846,1908,2129,2475,2551,2212,1811,1647,1733,1997,2293,2471,2481,2271,1900,1697,1851,2122,2257,2253,2143,1944,1796,1914,2313,2624,2495,2158,2042,2091,2100,2187,2384,2479,2398,2197,1961,1872,1977,2091,2184,2308,2293,2084,1894,1791,1769,1971,2338,2535,2413,2103,1864,1924,2159,2243,2193,2175,2109,2014,2068,2166,2128,2050,1982,1891,1922,2076,2099,1990,1937,1905,1870,1950,2098,2169,2130,1972,1812,1891,2124,2194,2129,2122,2083,1937,1850,1906,2041,2215,2335,2295,2160,2071,2059,2079,2079,2047,2028,2027,2014,2023,2079,2122,2142,2188,2233,2223,2173,2102,2025,1991,2034,2138,2260,2316,2248,2113,2016,2023,2157,2346,2427,2328,2140,2003,2016,2174,2324,2332,2234,2133,2068,2050,2071,2068,2012,1956,1963,2034,2110,2125,2077,2039,2053,2094,2130,2135,2090,2020,1978,1966,1968,1998,2050,2098,2143,2170,2129,2025,1946,1961,2050,2134,2133,2039,1933,1895,1942,2036,2094,2063,1981,1923,1925,1989,2078,2128,2124,2119,2146,2191,2220,2201,2151,2136,2181,2234,2237,2182,2106,2069,2097,2154,2198,2205,2170,2125,2116,2138,2155,2163,2172,2178,2192,2215,2214,2172,2122,2106,2135,2194,2235,2221,2174,2148,2157,2178,2185,2168,2134,2102,2081,2064,2046,2024,2003,2001,2034,2080,2100,2070,2016,1983,1986,2013,2050,2079,2083,2069,2058,2056,2064,2081,2085,2067,2047,2036,2020,1999,1990,1999,2024,2055,2077,2078,2060,2035,2022,2032,2050,2054,2047,2046,2060,2088,2109,2106,2083,2069,2080,2101,2111,2097,2062,2035,2043,2087,2136,2163,2158,2133,2109,2106,2121,2134,2129,2111,2100,2100,2093,2078,2079,2099,2119,2127,2122,2112,2108,2112,2122,2134,2140,2144,2149,2148,2134,2113,2091,2072,2074,2094,2102,2083,2060,2051,2052,2062,2081,2099,2100,2082,2057,2052,2071,2082,2065,2046,2049,2058,2057,2055,2057,2058,2059,2060,2059,2060,2064,2075,2089,2098,2094,2087,2085,2085,2089,2092,2095,2102,2099,2071,2047,2061,2097,2125,2137,2136,2130,2124,2113,2108,2122,2142,2145,2132,2114,2092,2074,2073,2093,2119,2127,2111,2085,2070,2082,2114,2135,2132,2121,2112,2109,2112,2105,2086,2085,2108,2114,2092,2069,2076,2119,2166,2173,2146,2120,2111,2117,2120,2106,2093,2096,2088,2066,2052,2050,2063,2090,2104,2083,2055,2051,2066,2087,2105,2109,2097,2075,2058,2059,2071,2090,2112,2109,2079,2059,2053,2048,2056,2072,2080,2092,2097,2064,2035,2053,2083,2096,2105,2107,2110,2125,2128,2102,2078,2073,2086,2115,2140,2143,2139,2132,2111,2091,2090,2112,2140,2145,2116,2082,2072,2091,2127,2139,2106,2068,2061,2072,2097,2129,2138,2122,2108,2097,2080,2073,2092,2128,2147,2130,2098,2071,2056,2065,2094,2105,2089,2078,2085,2101,2113,2097,2057,2031,2036,2051,2062,2067,2063,2054,2050,2060,2086,2105,2093,2068,2064,2073,2071,2062,2076,2117,2145,2136,2100,2060,2044,2061,2080,2076,2067,2074,2086,2092,2093,2090,2084,2073,2063,2076,2101,2103,2093,2101,2113,2113,2111,2099,2072,2060,2071,2078,2084,2108,2129,2122,2100,2084,2075,2074,2079,2084,2085,2087,2088,2090,2092,2092,2093,2098,2094,2076,2063,2065,2083,2114,2128,2108,2089,2104,2130,2133,2114,2089,2070,2062,2065,2088,2118,2121,2090,2056,2044,2062,2087,2083,2062,2063,2080,2086,2083,2082,2083,2091,2097,2097,2099,2093,2073,2067,2078,2088,2102,2113,2101,2089,2096,2095,2079,2074,2083,2104,2133,2136,2102,2073,2073,2089,2104,2111,2109,2106,2106,2112,2118,2107,2084,2079,2091,2110,2127,2125,2106,2101,2106,2087,2053,2045,2069,2096,2101,2088,2076,2069,2071,2081,2084,2082,2090,2093,2083,2085,2089,2075,2071,2081,2079,2077,2091,2088,2076,2092,2109,2102,2090,2080,2070,2076,2085,2080,2073,2075,2080,2080,2065,2048,2066,2110,2142,2139,2100,2057,2058,2092,2101,2082,2071,2093,2133,2138,2098,2073,2082,2083,2082,2098,2107,2110,2120,2112,2089,2088,2095,2086,2076,2076,2085,2100,2098,2081,2087,2114,2133,2135,2115,2078,2065,2084,2092,2094,2116,2125,2099,2082,2097,2114,2108,2092,2078,2065,2068,2091,2105,2087,2062,2060,2078,2095,2087,2061,2060,2087,2097,2082,2076,2089,2102,2102,2088,2077,2080,2080,2075,2088,2118,2129,2100,2060,2060,2098,2127,2127,2115,2097,2085,2095,2108,2105,2107,2115,2104,2087,2087,2093,2095,2096,2093,2098,2111,2114,2108,2111,2115,2116,2121,2113,2087,2071,2077,2085,2085,2081,2079,2088,2109,2125,2111,2073,2055,2076,2093,2078,2072,2096,2110,2098,2085,2076,2069,2080,2094,2092,2094,2100,2088,2078,2096,2109,2092,2077,2084,2090,2084,2070,2064,2080,2095,2087,2080,2090,2091,2076,2070,2072,2069,2071,2080,2086,2091,2088,2075,2072,2091,2107,2108,2102,2093,2083,2083,2094,2092,2076,2075,2091,2099,2096,2097,2094,2085,2079,2078,2082,2096,2098,2081,2078,2094,2099,2093,2093,2102,2112,2107,2088,2084,2101,2102,2088,2092,2105,2101,2084,2069,2068,2087,2108,2110,2098,2089,2087,2089,2092,2092,2083,2075,2085,2101,2101,2093,2085,2073,2079,2104,2108,2090,2082,2077,2067,2073,2087,2092,2096,2092,2076,2078,2091,2087,2091,2111,2111,2098,2085,2059,2053,2090,2125,2134,2130,2107,2075,2073,2088,2089,2088,2092,2092,2092,2090,2081,2077,2081,2090,2121,2142,2105,2055,2053,2074,2079,2087,2096,2088,2074,2069,2066,2071,2100,2131,2128,2102,2086,2084,2090,2100,2094,2075,2082,2112,2122,2110,2098,2084,2079,2085,2080,2076,2099,2121,2107,2091,2095,2095,2081,2080,2103,2131,2137,2121,2102,2093,2087,2076,2073,2093,2114,2109,2094,2106,2135,2142,2117,2084,2069,2080,2097,2101,2092,2076,2070,2085,2106,2108,2101,2099,2094,2083,2077,2086,2101,2103,2099,2112,2128,2112,2084,2084,2108,2128,2129,2103,2072,2068,2081,2077,2063,2063,2077,2089,2092,2089,2084,2085,2093,2102,2102,2090,2076,2066,2064,2072,2085,2095,2093,2086,2085,2090,2092,2094,2093,2083,2077,2080,2079,2074,2074,2072,2071,2080,2083,2078,2087,2102,2099,2089,2085,2073,2067,2086,2107,2098,2065,2040,2055,2095,2113,2094,2081,2096,2115,2107,2073,2049,2065,2093,2104,2109,2117,2109,2091,2086,2094,2096,2081,2057,2049,2076,2105,2100,2075,2067,2084,2101,2099,2089,2081,2068,2051,2056,2090,2113,2098,2064,2054,2081,2118,2127,2103,2067,2041,2046,2080,2109,2113,2104,2089,2070,2067,2082,2087,2073,2062,2072,2086,2077,2055,2053,2080,2101,2093,2074,2073,2091,2100,2095,2092,2097,2102,2107,2102,2083,2075,2089,2098,2097,2109,2122,2114,2099,2097,2101,2103,2100,2092,2087,2089,2091,2094,2108,2120,2107,2077,2067,2086,2115,2136,2145,2128,2094,2077,2087,2105,2113,2109,2100,2095,2088,2075,2065,2073,2095,2117,2123,2117,2113,2112,2101,2092,2106,2132,2136,2112,2088,2084,2091,2093,2093,2102,2115,2117,2103,2089,2083,2083,2086,2095,2104,2107,2101,2083,2071,2094,2143,2170,2155,2128,2120,2124,2117,2103,2110,2138,2152,2134,2106,2099,2107,2105,2086,2075,2082,2092,2097,2085,2051,2028,2034,2047,2053,2065,2072,2063,2058,2071,2085,2082,2063,2051,2069,2103,2113,2102,2098,2107,2114,2108,2103,2115,2133,2133,2119,2112,2118,2126,2119,2100,2095,2107,2121,2136,2147,2134,2113,2109,2110,2107,2110,2119,2124,2124,2116,2109,2110,2096,2065,2062,2090,2099,2081,2078,2103,2123,2108,2073,2065,2095,2117,2105,2079,2059,2050,2048,2046,2037,2024,2018,2022,2027,2022,2016,2024,2036,2040,2047,2065,2080,2083,2083,2085,2087,2097,2114,2121,2114,2108,2116,2131,2135,2126,2120,2126,2128,2117,2108,2106,2095,2083,2087,2097,2095,2092,2099,2100,2091,2087,2086,2081,2085,2102,2118,2123,2113,2090,2087,2114,2125,2102,2086,2092,2092,2084,2072,2058,2051,2049,2050,2068,2095,2104,2090,2066,2038,2034,2071,2105,2098,2066,2040,2035,2049,2057,2053,2056,2068,2072,2078,2103,2127,2127,2114,2111,2115,2107,2097,2108,2132,2137,2110,2073,2063,2084,2104,2112,2114,2097,2064,2053,2067,2084,2103,2114,2087,2048,2038,2056,2083,2108,2114,2103,2097,2102,2110,2111,2094,2067,2057,2072,2094,2104,2100,2093,2090,2080,2063,2054,2061,2078,2094,2093,2072,2048,2043,2058,2076,2088,2090,2078,2063,2065,2078,2082,2078,2078,2089,2101,2096,2083,2094,2118,2108,2078,2083,2117,2136,2130,2105,2079,2084,2112,2126,2123,2115,2100,2085,2087,2095,2092,2093,2112,2135,2138,2119,2103,2105,2114,2112,2105,2121,2153,2151,2109,2085,2094,2105,2108,2107,2097,2092,2088,2063,2033,2041,2072,2096,2107,2104,2099,2103,2088,2039,2003,2025,2081,2117,2103,2059,2026,2021,2033,2040,2035,2039,2068,2098,2106,2111,2122,2122,2111,2102,2106,2128,2155,2174,2190,2186,2143,2101,2097,2110,2123,2157,2203,2217,2183,2139,2130,2143,2138,2121,2123,2143,2153,2131,2076,2025,2018,2049,2081,2093,2092,2097,2117,2124,2103,2077,2069,2082,2101,2098,2063,2021,1994,1978,1969,1976,1996,2015,2012,1993,1993,2034,2085,2106,2101,2086,2063,2043,2049,2074,2086,2089,2111,2135,2119,2078,2062,2084,2111,2121,2123,2125,2118,2109,2119,2144,2158,2158,2153,2133,2100,2089,2110,2128,2121,2102,2085,2070,2066,2076,2086,2096,2114,2132,2138,2134,2121,2101,2090,2099,2119,2145,2157,2117,2039,1997,2012,2035,2042,2056,2090,2118,2106,2058,2020,2028,2070,2123,2164,2165,2121,2081,2092,2136,2156,2119,2058,2045,2100,2146,2109,2034,2010,2045,2100,2167,2215,2178,2077,2027,2075,2148,2165,2123,2082,2103,2178,2246,2265,2238,2192,2156,2127,2092,2065,2068,2075,2056,2043,2080,2147,2172,2129,2079,2079,2107,2123,2139,2171,2166,2076,1968,1955,2023,2053,2006,1959,1974,2024,2050,2034,2018,2047,2094,2117,2128,2151,2152,2115,2096,2141,2198,2190,2123,2065,2052,2061,2059,2030,1990,1977,2020,2098,2143,2131,2116,2132,2158,2186,2228,2264,2265,2242,2229,2224,2192,2124,2063,2070,2139,2188,2172,2141,2132,2110,2079,2103,2183,2230,2190,2097,2020,2007,2052,2104,2137,2155,2152,2125,2096,2106,2170,2245,2250,2160,2037,1972,2007,2098,2153,2120,2044,2004,2019,2039,2039,2046,2063,2070,2081,2102,2101,2073,2052,2051,2062,2078,2088,2079,2057,2031,2010,2015,2062,2126,2156,2137,2099,2071,2063,2082,2116,2136,2138,2130,2123,2129,2146,2150,2135,2123,2122,2135,2160,2182,2182,2158,2127,2128,2171,2194,2158,2118,2122,2128,2092,2065,2093,2130,2125,2109,2125,2150,2146,2116,2094,2106,2138,2153,2146,2137,2116,2067,2020,2016,2054,2090,2089,2069,2081,2131,2175,2181,2150,2112,2098,2119,2141,2133,2116,2124,2139,2123,2084,2058,2061,2080,2094,2092,2090,2101,2111,2120,2144,2168,2163,2154,2169,2176,2146,2111,2113,2125,2113,2092,2096,2114,2115,2090,2055,2039,2050,2074,2096,2103,2092,2085,2103,2132,2152,2155,2142,2126,2118,2112,2106,2108,2113,2095,2057,2044,2074,2108,2114,2105,2104,2118,2144,2163,2165,2170,2180,2166,2136,2120,2109,2086,2069,2083,2121,2151,2141,2095,2046,2014,2008,2024,2049,2070,2078,2067,2051,2049,2066,2082,2082,2075,2081,2087,2074,2066,2080,2089,2082,2075,2068,2057,2059,2085,2122,2153,2152,2120,2097,2107,2126,2128,2113,2102,2096,2090,2084,2079,2074,2079,2088,2080,2062,2065,2085,2095,2088,2066,2046,2044,2055,2069,2080,2075,2063,2071,2095,2104,2089,2068,2053,2038,2025,2026,2040,2058,2069,2062,2046,2049,2071,2078,2073,2088,2110,2107,2085,2065,2062,2072,2083,2087,2085,2068,2047,2050,2071,2077,2057,2035,2038,2064,2088,2101,2114,2125,2125,2107,2080,2068,2075,2084,2096,2115,2118,2093,2063,2042,2041,2060,2072,2064,2057,2065,2072,2073,2080,2091,2100,2103,2099,2090,2077,2068,2075,2094,2119,2135,2118,2077,2049,2048,2066,2090,2100,2092,2085,2083,2079,2079,2078,2070,2067,2074,2079,2081,2084,2082,2066,2044,2034,2040,2045,2048,2054,2056,2051,2045,2035,2026,2036,2058,2077,2093,2100,2083,2059,2051,2062,2081,2084,2064,2049,2052,2056,2044,2026,2020,2031,2047,2061,2080,2098,2101,2084,2056,2042,2057,2080,2085,2080,2077,2078,2078,2070,2057,2057,2059,2048,2040,2046,2053,2056,2060,2064,2072,2082,2085,2077,2071,2074,2081,2082,2082,2093,2101,2095,2085,2074,2060,2053,2054,2056,2062,2064,2054,2049,2058,2066,2065,2064,2063,2060,2060,2066,2071,2065,2051,2043,2045,2052,2056,2049,2037,2033,2031,2029,2039,2056,2057,2052,2051,2048,2045,2050,2057,2067,2071,2058,2043,2047,2060,2064,2060,2057,2058,2053,2045,2050,2065,2073,2071,2063,2054,2049,2051,2052,2059,2076,2091,2100,2105,2103,2093,2079,2070,2079,2094,2093,2086,2090,2096,2098,2101,2100,2095,2090,2091,2094,2093,2093,2100,2102,2088,2070,2062,2060,2067,2080,2083,2072,2058,2051,2061,2082,2089,2080,2073,2072,2074,2078,2077,2074,2075,2078,2079,2077,2075,2074,2070,2058,2052,2057,2059,2055,2051,2054,2065,2074,2063,2046,2044,2055,2068,2075,2067,2057,2058,2063,2061,2062,2071,2081,2081,2072,2068,2070,2072,2075,2080,2071,2058,2061,2071,2074,2073,2076,2081,2076,2068,2071,2081,2076,2060,2058,2069,2077,2078,2073,2070,2067,2059,2052,2059,2072,2078,2077,2069,2063,2066,2072,2075,2082,2088,2087,2087,2090,2092,2088,2074,2065,2069,2073,2071,2072,2071,2066,2067,2071,2070,2069,2067,2067,2068,2068,2067,2071,2079,2081,2076,2069,2069,2072,2071,2072,2081,2086,2085,2088,2093,2096,2098,2090,2068,2050,2052,2064,2073,2072,2068,2066,2067,2068,2069,2064,2058,2064,2071,2067,2064,2067,2070,2073,2081,2088,2087,2076,2066,2066,2069,2074,2084,2093,2096,2096,2091,2087,2096,2106,2098,2082,2073,2076,2084,2086,2081,2080,2083,2082,2081,2083,2084,2085,2088,2091,2094,2091,2083,2078,2077,2075,2074,2073,2070,2071,2073,2075,2083,2089,2087,2084,2089,2094,2097,2094,2085,2078,2079,2083,2084,2084,2089,2098,2097,2083,2078,2085,2093,2097,2098,2093,2085,2079,2075,2076,2084,2089,2088,2083,2079,2079,2079,2079,2084,2094,2104,2111,2114,2107,2100,2097,2095,2100,2109,2115,2118,2121,2123,2123,2124,2126,2125,2116,2106,2110,2119,2120,2118,2119,2117,2114,2115,2112,2108,2110,2114,2115,2118,2123,2122,2115,2112,2119,2124,2112,2096,2092,2100,2107,2105,2099,2102,2109,2106,2099,2100,2106,2109,2108,2103,2099,2097,2101,2109,2114,2107,2100,2103,2107,2109,2108,2106,2107,2110,2111,2109,2109,2110,2112,2116,2118,2117,2115,2113,2114,2118,2121,2123,2125,2120,2114,2117,2128,2139,2141,2132,2126,2131,2133,2124,2112,2111,2119,2123,2112,2097,2098,2115,2125,2122,2116,2116,2122,2128,2128,2123,2114,2111,2115,2115,2114,2120,2126,2125,2121,2118,2116,2119,2127,2133,2135,2136,2134,2128,2123,2119,2114,2112,2117,2124,2125,2125,2127,2126,2121,2122,2129,2130,2122,2113,2116,2124,2121,2110,2105,2107,2112,2122,2127,2123,2117,2110,2104,2104,2105,2104,2111,2123,2126,2124,2123,2119,2109,2101,2098,2104,2117,2125,2124,2123,2124,2125,2123,2117,2119,2129,2129,2114,2103,2110,2122,2125,2122,2115,2113,2117,2115,2105,2103,2113,2117,2112,2110,2113,2115,2118,2115,2104,2093,2092,2102,2112,2112,2108,2114,2117,2109,2110,2120,2118,2113,2116,2119,2114,2109,2104,2100,2104,2116,2122,2118,2112,2109,2105,2101,2103,2108,2105,2102,2112,2120,2113,2102,2102,2107,2109,2110,2110,2106,2105,2111,2116,2116,2114,2112,2111,2110,2107,2103,2105,2111,2115,2118,2122,2126,2122,2115,2118,2131,2140,2135,2126,2124,2128,2127,2119,2112,2114,2124,2133,2132,2122,2109,2103,2107,2117,2132,2141,2134,2122,2118,2122,2124,2123,2125,2130,2129,2118,2103,2095,2095,2101,2111,2117,2117,2111,2101,2098,2107,2114,2112,2111,2110,2103,2099,2105,2111,2109,2106,2110,2114,2107,2095,2092,2099,2104,2105,2107,2110,2114,2120,2122,2117,2111,2104,2098,2109,2131,2143,2141,2131,2118,2113,2119,2126,2128,2130,2130,2120,2110,2108,2112,2120,2131,2136,2132,2125,2119,2117,2119,2124,2130,2131,2120,2108,2108,2118,2128,2131,2124,2109,2102,2107,2110,2107,2102,2103,2110,2117,2113,2097,2089,2094,2098,2096,2097,2104,2112,2116,2112,2106,2106,2114,2121,2119,2114,2112,2111,2107,2103,2105,2111,2118,2125,2127,2126,2122,2111,2103,2107,2112,2110,2111,2117,2118,2110,2102,2105,2115,2116,2109,2104,2102,2100,2099,2100,2101,2108,2116,2114,2107,2103,2102,2103,2110,2114,2109,2105,2111,2114,2112,2110,2108,2105,2106,2106,2100,2099,2107,2113,2116,2116,2112,2108,2104,2098,2090,2089,2096,2107,2112,2107,2104,2112,2120,2116,2110,2112,2118,2119,2111,2105,2110,2120,2124,2122,2122,2123,2117,2109,2111,2122,2127,2126,2126,2125,2125,2125,2117,2109,2111,2114,2114,2115,2115,2108,2110,2126,2133,2126,2113,2105,2107,2117,2124,2121,2114,2104,2096,2097,2096,2086,2088,2110,2127,2123,2116,2115,2116,2111,2097,2089,2103,2122,2125,2122,2114,2090,2074,2081,2087,2091,2108,2117,2109,2103,2093,2073,2076,2105,2126,2124,2112,2096,2092,2101,2110,2124,2148,2152,2126,2098,2089,2101,2125,2130,2114,2113,2126,2116,2096,2094,2103,2109,2119,2118,2103,2099,2107,2107,2106,2109,2106,2106,2111,2108,2101,2101,2100,2100,2110,2115,2104,2094,2092,2093,2098,2096,2090,2095,2106,2105,2103,2105,2099,2090,2095,2104,2105,2101,2092,2081,2078,2084,2093,2107,2118,2118,2110,2099,2090,2093,2104,2110,2117,2126,2130,2125,2116,2104,2090,2084,2093,2106,2107,2095,2087,2088,2085,2081,2086,2087,2081,2085,2095,2092,2087,2093,2093,2082,2082,2093,2097,2092,2089,2093,2098,2096,2093,2096,2093,2081,2078,2082,2083,2088,2096,2092,2087,2089,2083,2077,2088,2095,2088,2088,2096,2094,2085,2078,2073,2077,2092,2102,2100,2094,2085,2075,2072,2072,2075,2083,2087,2083,2078,2076,2076,2078,2073,2066,2073,2089,2090,2085,2093,2101,2096,2094,2098,2095,2091,2095,2096,2087,2082,2090,2096,2087,2076,2078,2084,2085,2082,2077,2070,2070,2078,2079,2075,2078,2084,2077,2061,2061,2075,2080,2073,2071,2076,2080,2082,2081,2074,2067,2065,2064,2061,2061,2063,2063,2061,2062,2070,2076,2068,2058,2065,2078,2080,2082,2088,2084,2072,2068,2067,2068,2076,2080,2074,2073,2079,2083,2087,2094,2098,2096,2092,2087,2084,2081,2077,2079,2089,2093,2084,2076,2074,2071,2068,2071,2075,2080,2083,2077,2063,2057,2059,2059,2057,2059,2066,2069,2069,2075,2083,2083,2077,2073,2070,2072,2081,2086,2085,2084,2084,2086,2091,2090,2081,2079,2088,2095,2093,2087,2079,2077,2083,2085,2081,2078,2078,2077,2077,2077,2076,2080,2084,2083,2082,2083,2085,2086,2087,2088,2091,2090,2083,2082,2092,2099,2094,2083,2073,2071,2080,2088,2091,2097,2102,2097,2089,2088,2092,2098,2102,2098,2094,2093,2092,2093,2099,2099,2095,2095,2095,2092,2094,2101,2109,2115,2112,2097,2088,2091,2096,2098,2099,2096,2091,2094,2099,2099,2097,2094,2093,2097,2101,2100,2098,2093,2088,2092,2098,2094,2093,2102,2107,2102,2100,2100,2097,2094,2091,2087,2089,2094,2094,2093,2095,2094,2092,2094,2101,2109,2113,2111,2106,2102,2097,2094,2100,2105,2103,2101,2102,2099,2093,2092,2094,2099,2104,2101,2093,2092,2093,2090,2088,2090,2093,2094,2093,2092,2091,2091,2093,2094,2094,2092,2091,2093,2098,2103,2105,2103,2102,2100,2099,2099,2101,2104,2104,2099,2093,2094,2095,2093,2092,2093,2093,2095,2099,2099,2096,2096,2093,2085,2083,2086,2085,2085,2089,2090,2083,2080,2080,2081,2083,2088,2092,2093,2091,2086,2081,2081,2083,2087,2093,2095,2091,2085,2085,2088,2092,2094,2094,2093,2093,2095,2097,2097,2096,2094,2094,2099,2103,2099,2093,2096,2102,2102,2096,2092,2089,2091,2098,2103,2102,2097,2090,2088,2095,2101,2101,2098,2097,2095,2093,2093,2095,2096,2097,2098,2096,2095,2095,2092,2089,2091,2095,2094,2091,2093,2098,2100,2100,2098,2096,2097,2099,2099,2098,2095,2092,2093,2096,2097,2100,2106,2105,2097,2092,2090,2089,2092,2099,2101,2096,2092,2088,2084,2085,2091,2101,2106,2103,2096,2090,2089,2093,2100,2100,2092,2084,2082,2085,2093,2101,2101,2093,2089,2090,2092,2094,2094,2092,2091,2094,2098,2101,2101,2099,2099,2101,2103,2103,2103,2102,2100,2097,2096,2096,2095,2095,2095,2093,2092,2096,2098,2095,2090,2086,2081,2081,2086,2090,2090,2087,2080,2077,2082,2088,2090,2090,2089,2082,2078,2079,2081,2083,2089,2093,2092,2089,2084,2079,2080,2084,2084,2081,2081,2082,2085,2089,2089,2088,2088,2087,2086,2092,2097,2095,2092,2092,2089,2084,2085,2089,2091,2094,2095,2095,2094,2095,2096,2097,2096,2090,2088,2092,2097,2098,2092,2081,2078,2086,2094,2094,2094,2094,2087,2081,2084,2088,2088,2090,2090,2083,2078,2078,2081,2085,2092,2092,2085,2081,2082,2082,2082,2083,2082,2079,2080,2081,2084,2089,2090,2084,2081,2083,2082,2080,2081,2081,2081,2084,2082,2076,2075,2078,2077,2078,2083,2084,2083,2084,2084,2082,2083,2083,2078,2073,2072,2076,2081,2082,2076,2070,2068,2071,2077,2079,2077,2074,2074,2077,2079,2079,2077,2074,2074,2078,2080,2080,2082,2082,2078,2074,2075,2078,2077,2074,2073,2072,2072,2073,2074,2076,2078,2079,2076,2075,2080,2083,2079,2073,2073,2076,2079,2083,2085,2080,2074,2073,2076,2077,2078,2079,2077,2075,2078,2078,2076,2080,2084,2079,2073,2076,2080,2081,2081,2078,2076,2078,2080,2079,2081,2083,2079,2075,2076,2079,2081,2082,2079,2076,2079,2082,2083,2083,2082,2082,2086,2092,2093,2087,2079,2076,2080,2084,2087,2090,2090,2086,2085,2086,2088,2091,2093,2093,2095,2098,2097,2092,2089,2090,2092,2093,2092,2090,2087,2088,2092,2096,2095,2090,2089,2090,2091,2095,2099,2097,2093,2091,2089,2090,2096,2100,2096,2094,2095,2095,2093,2094,2093,2091,2090,2092,2094,2097,2099,2100,2099,2099,2099,2099,2099,2102,2105,2106,2106,2105,2102,2098,2099,2102,2102,2102,2102,2103,2106,2108,2105,2101,2100,2101,2104,2106,2102,2098,2099,2102,2105,2106,2102,2098,2099,2101,2099,2098,2097,2094,2096,2102,2105,2103,2099,2092,2092,2102,2105,2097,2090,2089,2091,2096,2099,2097,2093,2094,2094,2092,2091,2089,2085,2085,2090,2093,2090,2088,2091,2094,2091,2087,2086,2086,2089,2091,2090,2086,2085,2081,2076,2082,2092,2094,2089,2086,2085,2086,2090,2092,2092,2096,2096,2089,2084,2088,2094,2099,2099,2096,2094,2096,2096,2093,2092,2093,2095,2096,2098,2096,2092,2090,2095,2102,2104,2099,2093,2092,2098,2102,2102,2101,2102,2100,2098,2098,2099,2098,2094,2088,2088,2097,2102,2098,2095,2098,2097,2093,2090,2089,2093,2100,2097,2089,2092,2100,2101,2100,2101,2097,2093,2094,2096,2098,2102,2098,2090,2091,2100,2106,2107,2104,2098,2094,2093,2098,2105,2110,2109,2107,2107,2109,2108,2103,2097,2097,2101,2101,2096,2093,2092,2092,2093,2097,2099,2098,2096,2094,2099,2106,2106,2099,2093,2095,2101,2105,2104,2103,2101,2096,2091,2090,2093,2102,2108,2107,2103,2100,2094,2091,2093,2096,2094,2091,2088,2086,2089,2093,2094,2094,2094,2091,2087,2086,2086,2090,2097,2102,2102,2101,2096,2095,2101,2105,2104,2102,2099,2096,2099,2103,2098,2093,2092,2091,2093,2100,2102,2099,2097,2096,2094,2096,2100,2100,2098,2098,2098,2099,2103,2105,2103,2102,2101,2099,2098,2100,2102,2101,2099,2098,2100,2105,2108,2108,2108,2107,2105,2103,2102,2103,2102,2099,2095,2093,2098,2105,2105,2101,2098,2099,2102,2107,2108,2104,2100,2098,2096,2099,2107,2110,2108,2110,2111,2110,2107,2103,2098,2102,2110,2110,2107,2105,2103,2102,2105,2106,2102,2098,2097,2099,2105,2108,2104,2102,2105,2108,2106,2101,2096,2094,2094,2095,2097,2103,2107,2105,2102,2101,2100,2100,2101,2103,2108,2111,2108,2103,2103,2106,2108,2107,2104,2102,2104,2107,2110,2114,2115,2112,2105,2100,2099,2102,2104,2103,2101,2099,2102,2108,2112,2111,2106,2100,2096,2099,2105,2110,2112,2110,2106,2101,2098,2098,2102,2106,2108,2109,2108,2105,2103,2104,2103,2102,2102,2101,2100,2104,2108,2106,2102,2099,2100,2105,2110,2109,2106,2107,2109,2108,2109,2108,2104,2102,2102,2102,2106,2112,2111,2107,2106,2106,2107,2107,2106,2104,2105,2108,2107,2101,2097,2098,2103,2110,2112,2108,2102,2099,2101,2106,2110,2110,2109,2110,2111,2111,2109,2106,2102,2102,2106,2109,2111,2113,2113,2112,2111,2110,2108,2108,2113,2119,2123,2121,2115,2109,2110,2114,2112,2110,2111,2113,2113,2113,2111,2111,2112,2114,2114,2115,2115,2113,2113,2115,2117,2116,2112,2111,2114,2115,2113,2111,2113,2116,2118,2119,2117,2113,2112,2112,2113,2114,2116,2117,2115,2112,2108,2106,2108,2116,2123,2122,2114,2108,2107,2110,2114,2118,2117,2113,2112,2112,2111,2112,2112,2111,2112,2117,2119,2117,2114,2111,2109,2111,2114,2116,2114,2111,2111,2112,2112,2112,2114,2118,2121,2120,2117,2114,2114,2115,2114,2113,2115,2118,2116,2111,2110,2111,2111,2109,2110,2110,2110,2112,2113,2109,2105,2106,2107,2108,2109,2104,2098,2101,2109,2112,2112,2111,2109,2107,2105,2102,2100,2102,2107,2112,2113,2108,2101,2096,2095,2100,2106,2107,2104,2100,2099,2101,2105,2106,2103,2101,2100,2101,2103,2104,2102,2101,2105,2105,2101,2101,2105,2105,2103,2102,2100,2099,2100,2104,2106,2103,2099,2098,2097,2098,2101,2104,2104,2103,2101,2098,2096,2099,2105,2106,2101,2095,2093,2096,2099,2102,2102,2099,2095,2093,2093,2095,2100,2103,2102,2101,2099,2096,2096,2099,2100,2101,2101,2099,2099,2103,2106,2105,2102,2096,2090,2091,2097,2102,2104,2103,2099,2099,2101,2101,2099,2099,2101,2105,2109,2106,2101,2101,2104,2105,2106,2105,2102,2099,2100,2104,2109,2110,2107,2103,2099,2097,2100,2105,2106,2104,2102,2099,2097,2097,2099,2102,2105,2105,2101,2099,2099,2100,2101,2101,2098,2096,2099,2103,2102,2099,2099,2099,2099,2101,2103,2099,2093,2092,2093,2093,2096,2099,2098,2096,2094,2093,2097,2103,2103,2101,2100,2097,2095,2097,2098,2098,2098,2099,2099,2100,2099,2099,2099,2099,2101,2104,2103,2100,2098,2098,2100,2102,2100,2097,2095,2093,2091,2092,2094,2097,2097,2095,2093,2091,2089,2089,2092,2094,2093,2092,2090,2088,2089,2091,2089,2086,2084,2085,2088,2089,2087,2086,2088,2090,2092,2093,2092,2090,2089,2090,2092,2093,2093,2090,2089,2088,2087,2088,2090,2092,2093,2094,2093,2092,2091,2091,2093,2095,2093,2089,2087,2086,2088,2091,2093,2090,2089,2088,2089,2088,2087,2085,2084,2083,2083,2084,2083,2082,2081,2082,2080,2079,2078,2077,2080,2083,2083,2082,2081,2078,2078,2083,2083,2079,2078,2078,2080,2082,2082,2083,2084,2082,2081,2082,2081,2079,2082,2084,2083,2084,2080,2076,2078,2082,2083,2084,2083,2079,2078,2081,2081,2082,2081,2080,2081,2081,2079,2080,2082,2082,2084,2085,2082,2081,2082,2080,2078,2081,2080,2079,2080,2081,2081,2082,2080,2078,2076,2077,2079,2082,2081,2079,2078,2077,2077,2077,2078,2080,2083,2083,2080,2080,2081,2081,2081,2083,2086,2084,2079,2078,2079,2083,2088,2088,2084,2081,2080,2078,2082,2087,2087,2085,2084,2082,2081,2084,2088,2089,2086,2080,2077,2078,2079,2087,2096,2095,2088,2085,2081,2078,2082,2088,2091,2093,2086,2077,2078,2083,2086,2088,2089,2086,2080,2077,2083,2090,2087,2079,2077,2076,2075,2080,2086,2086,2083,2079,2075,2076,2080,2085,2087,2085,2079,2074,2075,2081,2085,2084,2084,2084,2078,2076,2083,2086,2082,2081,2081,2081,2080,2079,2081,2085,2081,2076,2078,2079,2081,2086,2088,2083,2080,2076,2076,2085,2090,2086,2085,2081,2075,2080,2089,2087,2084,2084,2080,2079,2081,2080,2082,2088,2081,2074,2082,2088,2082,2077,2081,2082,2081,2082,2083,2084,2083,2080,2079,2081,2082,2081,2077,2072,2076,2085,2086,2079,2079,2080,2074,2074,2081,2079,2077,2085,2083,2077,2084,2088,2080,2083,2085,2074,2071,2078,2079,2080,2084,2079,2072,2066,2069,2095,2114,2092,2067,2066,2062,2061,2083,2097,2091,2078,2057,2046,2070,2093,2092,2091,2088,2073,2065,2071,2086,2099,2084,2056,2055,2067,2065,2076,2097,2095,2083,2074,2054,2043,2064,2094,2101,2086,2064,2052,2052,2065,2091,2103,2092,2079,2063,2040,2053,2102,2114,2085,2065,2056,2052,2068,2092,2097,2082,2062,2050,2051,2066,2092,2100,2076,2063,2068,2056,2056,2099,2113,2072,2057,2071,2064,2061,2089,2104,2090,2073,2058,2058,2085,2112,2107,2074,2049,2051,2059,2068,2103,2123,2086,2049,2055,2060,2070,2113,2119,2061,2031,2057,2084,2105,2126,2111,2066,2034,2036,2065,2104,2127,2113,2069,2041,2057,2081,2094,2116,2114,2054,2014,2052,2102,2120,2121,2094,2048,2037,2059,2078,2098,2115,2098,2052,2031,2064,2116,2131,2111,2082,2045,2029,2064,2105,2114,2108,2082,2038,2040,2093,2123,2115,2096,2065,2039,2051,2085,2111,2119,2106,2074,2042,2043,2092,2132,2110,2070,2056,2049,2061,2107,2134,2115,2088,2062,2046,2073,2114,2116,2101,2093,2070,2048,2064,2106,2125,2095,2053,2046,2071,2107,2140,2135,2088,2056,2053,2052,2072,2114,2121,2092,2074,2070,2076,2104,2124,2107,2078,2060,2051,2061,2098,2132,2123,2086,2073,2090,2095,2092,2100,2096,2072,2061,2067,2077,2104,2129,2112,2080,2073,2073,2068,2079,2092,2087,2079,2084,2093,2103,2110,2098,2067,2051,2069,2091,2090,2089,2102,2102,2082,2074,2086,2103,2112,2097,2060,2046,2069,2088,2093,2105,2110,2094,2080,2079,2077,2079,2088,2089,2078,2071,2078,2090,2093,2093,2094,2094,2092,2093,2095,2092,2093,2095,2093,2093,2094,2093,2093,2094,2094,2093,2094,2095,2093,2092,2093,2094,2094,2094,2094,2093,2092,2093,2095,2093,2093,2093,2093,2094,2096,2094,2092,2092,2093,2094,2094,2093,2094,2094,2093,2093,2094,2093,2094,2094,2092,2092,2094,2093,2093,2094,2093,2092,2094,2094,2093,2093,2093,2093,2094,2094,2093,2094,2094,2092,2093,2094,2094,2094,2093,2093,2093,2093,2093,2095,2094,2092,2092,2094,2094,2094,2094,2094,2093,2093,2093,2093,2093,2094,2095,2094,2093,2094,2093,2093,2093,2093

};
unsigned int note_time ;
#define NUM_ROTORS 3;

int A_in_last;
int A_in;
int B_in;
int button;
int button_last;
int counter = 0;

// Rotary encoder
int outputA;
int outputB;
int aState;
int aLastState;

void __ISR(_TIMER_2_VECTOR, ipl2) Timer2Handler(void)
{
  int junk;

  mT2ClearIntFlag();

  DAC_data_A = sound[note_time];
  DAC_data_B = 0;
  if (note_time > SOUND_N){
    note_time = SOUND_N;
  }
  // test for ready
  while (TxBufFullSPI2())
    ;

  // reset spi mode to avoid conflict with expander
  SPI_Mode16();
  // DAC-A CS low to start transaction
  mPORTBClearBits(BIT_4); // start transaction
                          // write to spi2
  WriteSPI2(DAC_config_chan_A | (DAC_data_A & 0xfff));
  note_time++;
  // fold a couple of timer updates into the transmit time
  // test for done
  while (SPI2STATbits.SPIBUSY)
    ; // wait for end of transaction
  // MUST read to clear buffer for port expander elsewhere in code
  junk = ReadSPI2();
  // CS high
  mPORTBSetBits(BIT_4); // end transaction

  // DAC-B CS low to start transaction
  mPORTBClearBits(BIT_4); // start transaction
  // write to spi2
  WriteSPI2(DAC_config_chan_B | (DAC_data_B & 0xfff));
  // test for done
  while (SPI2STATbits.SPIBUSY)
    ; // wait for end of transaction
  // MUST read to clear buffer for port expander elsewhere in code
  junk = ReadSPI2();
  // CS high
  mPORTBSetBits(BIT_4); // end transaction
                        //
}

// === thread structures ============================================
// thread control structs

// note that UART input and output are threads
static struct pt pt_time, pt_sched, pt_encrypt; //, pt_input, pt_output, pt_DMA_output ;

// system 1 second interval tick
int sys_time_seconds;

int NUM_LETTERS = 26;

// Rotors
char rotors[3][26] = {
    "BDFHJLCPRTXVZNYEIWGAKMUSQO",
    "AJDKSIRUXBLHWTMCQGZNPYFVOE",
    "EKMFLGDQVZNTOWYHXUSPAIBRCJ",
};

char test;

int stepping[3];

char reflector[26] = "YRUHQSLDPXNGOKMIEBFZCWVJAT";
// char alphabet[26] = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
int pairings[64];

// Offsets
volatile int rotor_offsets[3] = {'N' - 'A', 'U' - 'A', 'F' - 'A'};
int turnovers[3] = {'V' - 'A', 'E' - 'A', 'Q' - 'A'};
// int offset_rotor1 = 0;

// Python interface
char new_string = 0;
char new_list = 0;
// String from Python
char receive_string[64] = "\r";
char upper_case[64];
char result[64];
// current listbox
int list_id, list_value;

int encrypt_idx = 0;

// === print a line on TFT =====================================================
// print a line on the TFT
// string buffer
char buffer[60];
void printLine(int line_number, char *print_buffer, short text_color, short back_color)
{
  // line number 0 to 31
  /// !!! assumes tft_setRotation(0);
  // print_buffer is the string to print
  int v_pos;
  v_pos = line_number * 10;
  // erase the pixels
  tft_fillRoundRect(0, v_pos, 239, 8, 1, back_color); // x,y,w,h,radius,color
  tft_setTextColor(text_color);
  tft_setCursor(0, v_pos);
  tft_setTextSize(1);
  tft_writeString(print_buffer);
}

// Convert uppercase
void uppercase_convert(char *input)
{
  int i;
  for (i = 0; input[i] != '\r'; i++)
  {
    if (input[i] >= 'a' && input[i] <= 'z')
    {
      upper_case[i] = input[i] - 32;
    }
    else
    {
      upper_case[i] = input[i];
    }
  }
  upper_case[i] = '\0';
}

int index_inverse(int c, int rotor)
{
  int i = 0;
  while ((rotors[rotor][i] != '\0') && (rotors[rotor][i] != (c + 'A')))
  {
    i++;
  }
  return i;
}

void spin_rotors()
{
  note_time   = 0;
  stepping[0] = 0;
  stepping[1] = 0;
  stepping[2] = 0;
  int i;
  for (i = 2; i > 0; i--)
  {
    if (rotor_offsets[i - 1] == turnovers[i - 1])
    {
      rotor_offsets[i] = (rotor_offsets[i] + 1) % 26;
      stepping[i] = 1;
    }
    if ((rotor_offsets[i] == turnovers[i]) && (stepping[i] == 0))
    {
      if ((i == 2) && stepping[1] == 1)
      {
        rotor_offsets[i] = (rotor_offsets[i] + 1) % 26;
      }
      else if (i == 1)
      {
        rotor_offsets[i] = (rotor_offsets[i] + 1) % 26;
      }
    }
  }
  rotor_offsets[0] = (rotor_offsets[0] + 1) % 26;
}

int char_to_index(char c)
{
  int res = c - 'A';
  return res;
}

int rotor_r_to_l(int input, int rotor)
{
  int idx = (rotor_offsets[rotor] + input) % 26;
  int res = rotors[rotor][idx] - rotor_offsets[rotor] - 'A';
  if (res < 0)
    res += 26;
  else if (res > 25)
    res -= 26;
  return res;
}

int rotor_l_to_r(int input, int rotor)
{
  int idx = (input + rotor_offsets[rotor]) % 26;
  int res = index_inverse(idx, rotor) - rotor_offsets[rotor];
  if (res < 0)
    res += 26;
  else if (res > 25)
    res -= 26;
  return res;
}

int reflect(int input)
{
  return reflector[input] - 'A';
}

void initialize_plugboard()
{
  int i;
  for (i = 0; i < 26; i++)
  {
    pairings[i] = 0;
  }
  i = 0;
  char first;
  char second;
  while (upper_case[i] != '\0'){
    if(upper_case[i] == ' '){
      first = upper_case[i-2] - 'A';
      second = upper_case[i-1] - 'A';
      pairings[first] = second - first;
      pairings[second] = first - second;
    }
    i++;
  }
  first = upper_case[i-2] - 'A';
  second = upper_case[i-1] - 'A';
  pairings[first] = second - first;
  pairings[second] = first - second;
}

int plug_swap(int input)
{
  int offset = pairings[input];
  int res = input + offset;
  return res;
}

// All rotors

// === One second Thread ======================================================
// update a 1 second tick counter
static PT_THREAD(protothread_time(struct pt *pt))
{
  PT_BEGIN(pt);
  static char buffer[128];
  // timer readout
  sprintf(buffer, "%s", "Time in sec since boot\n");
  printLine(0, buffer, ILI9340_WHITE, ILI9340_BLACK);

  // set up LED to blink
  mPORTASetBits(BIT_0);           //Clear bits to ensure light is off.
  mPORTASetPinsDigitalOut(BIT_0); //Set port as output

  while (1)
  {
    // yield time 1 second
    PT_YIELD_TIME_msec(1000);
    sys_time_seconds++;
    // toggle the LED on the big board
    mPORTAToggleBits(BIT_0);
    sprintf(buffer, "%d", sys_time_seconds);
    // printLine(1, buffer, ILI9340_YELLOW, ILI9340_BLACK);
    // printLine(2, receive_string, ILI9340_YELLOW, ILI9340_BLACK);
    printLine(3, upper_case, ILI9340_YELLOW, ILI9340_BLACK);
    sprintf(buffer, "%c    %c    %c", rotor_offsets[2] + 'A', rotor_offsets[1] + 'A', rotor_offsets[0] + 'A');
    printLine(4, buffer, ILI9340_RED, ILI9340_BLACK);
    printLine(5, result, ILI9340_YELLOW, ILI9340_BLACK);
    sprintf(buffer, "%d   %d    %d    %d", A_in, A_in_last, B_in, counter);
    // printLine(6, buffer, ILI9340_YELLOW, ILI9340_BLACK);
    // note_time = 0;
    sprintf(buffer, "%d %d %d %d", pairings[0], pairings[25], pairings[1], pairings[2]);
    // printLine(6, buffer, ILI9340_YELLOW, ILI9340_BLACK);
    // NEVER exit while
  } // END WHILE(1)

  PT_END(pt);
} //

int PT_Encrypt(struct pt *pt)
{
  PT_BEGIN(pt);
  encrypt_idx = 0;
  memset(result, '\0', sizeof(result));
  while (upper_case[encrypt_idx] != '\0')
  {
    int res;
    res = plug_swap(char_to_index(upper_case[encrypt_idx]));
    spin_rotors();
    res = rotor_r_to_l(res, 0);
    res = rotor_r_to_l(res, 1);
    res = rotor_r_to_l(res, 2);
    res = reflect(res);
    res = rotor_l_to_r(res, 2);
    res = rotor_l_to_r(res, 1);
    res = rotor_l_to_r(res, 0);
    res = plug_swap(res);
    result[encrypt_idx] = 'A' + res;
    encrypt_idx++;
    PT_YIELD_TIME_msec(1000);
  }
  // kill this input thread, to allow spawning thread to execute
  PT_EXIT(pt);
  PT_END(pt);
}

// === string input thread =====================================================
// process text from python
static PT_THREAD(protothread_python_string(struct pt *pt))
{
  PT_BEGIN(pt);
  while (1)
  {
    PT_YIELD_UNTIL(pt, new_string == 1);
    new_string = 0;
    uppercase_convert(receive_string + 1);
    // Parse input
    if (receive_string[0] == 'p')
    {
      PT_SPAWN(pt, &pt_encrypt, PT_Encrypt(&pt_encrypt));
    }
    else if (receive_string[0] == 'i')
    {
      memset(rotors[0], '\0', sizeof(rotors[0]));
      strncpy(rotors[0], upper_case, NUM_LETTERS);
    }
    else if (receive_string[0] == 'j')
    {
      memset(rotors[1], '\0', sizeof(rotors[1]));
      strncpy(rotors[1], upper_case, NUM_LETTERS);
    }
    else if (receive_string[0] == 'k')
    {
      memset(rotors[2], '\0', sizeof(rotors[2]));
      strncpy(rotors[2], upper_case, NUM_LETTERS);
    }
    else if (receive_string[0] == 'l')
    {
      initialize_plugboard();
    }
  } // END WHILE(1)
  PT_END(pt);
}

// ===  listbox thread =========================================================
// process listbox from Python to set DDS waveform
static PT_THREAD(protothread_listbox(struct pt *pt))
{
  PT_BEGIN(pt);
  while (1)
  {
    PT_YIELD_UNTIL(pt, new_list == 1);
    // clear flag
    new_list = 0;
    if (list_id == 1)
    {
      rotor_offsets[0] = list_value;
    }
    else if (list_id == 2)
    {
      rotor_offsets[1] = list_value;
    }
    else if (list_id == 3)
    {
      rotor_offsets[2] = list_value;
    }
  } // END WHILE(1)
  PT_END(pt);
} // thread listbox

// === Python serial thread ====================================================
// you should not need to change this thread UNLESS you add new control types
static PT_THREAD(protothread_serial(struct pt *pt))
{
  PT_BEGIN(pt);
  //
  //
  while (1)
  {
    // There is no YIELD in this loop because there are
    // YIELDS in the spawned threads that determine the
    // execution rate while WAITING for machine input
    // =============================================
    // NOTE!! -- to use serial spawned functions
    // you MUST edit config_1_3_2 to
    // (1) uncomment the line -- #define use_uart_serial
    // (2) SET the baud rate to match the PC terminal
    // =============================================

    // now wait for machine input from python
    // Terminate on the usual <enter key>
    PT_terminate_char = '\r';
    PT_terminate_count = 0;
    PT_terminate_time = 0;
    // note that there will NO visual feedback using the following function
    PT_SPAWN(pt, &pt_input, PT_GetMachineBuffer(&pt_input));

    // Parse the string from Python
    // There can be toggle switch, button, slider, and string events

    // string from python input line
    if (PT_term_buffer[0] == '$')
    {
      // output to thread which parses the string
      // while striping off the '$'
      strcpy(receive_string, PT_term_buffer + 1);
      // signal parsing thread
      new_string = 1;
    }
    // listbox
    if (PT_term_buffer[0] == 'l')
    {
      new_list = 1;
      list_id = PT_term_buffer[2] - '0';
      if (PT_term_buffer[4] == '\r')
      {
        list_value = PT_term_buffer[3] - '0';
      }
      else
      {
        list_value = (PT_term_buffer[3] - '0') * 10 + (PT_term_buffer[4] - '0');
      }
      //printf("%d %d", list_id, list_value);
    }
  } // END WHILE(1)
  PT_END(pt);
} // thread blink

static PT_THREAD(protothread_encoder(struct pt *pt))
{
    PT_BEGIN(pt);
    A_in_last = mPORTBReadBits(BIT_7) ? 1 : 0;
    button_last = mPORTBReadBits(BIT_13) ? 1 : 0;
    while(1) {
      // yield time
      PT_YIELD_TIME_msec(10);
      button = mPORTBReadBits(BIT_13) ? 1 : 0;
      if (button == 0 && button_last == 1){
        counter++;
        counter = counter % NUM_ROTORS;
      }
      A_in = mPORTBReadBits(BIT_7) ? 1 : 0;
      if ((A_in == 0) && (A_in_last == 1)){
          B_in = mPORTBReadBits(BIT_8) ? 1 : 0;
          if (B_in != A_in) {
              rotor_offsets[counter] += 1;   
          } else {
              rotor_offsets[counter] -= 1;
          }
          note_time = 0;
          if (rotor_offsets[counter] < 0) rotor_offsets[counter] = 25;
          rotor_offsets[counter] = rotor_offsets[counter] % 26;
      }
      A_in_last = A_in;
      button_last = button;
    }
    PT_END(pt);
} // keypad thread

// === Main  ======================================================

int main(void)
{
  ANSELA = 0;
  ANSELB = 0;

  // set up DAC on big board
  // timer interrupt //////////////////////////
  // Set up timer2 on,  interrupts, internal clock, prescalar 1, toggle rate
  // at 40 MHz PB clock
  // 40,000,000/Fs = 908 : since timer is zero-based, set to 907
  OpenTimer2(T2_ON | T2_SOURCE_INT | T2_PS_1_1, 907);

  // set up the timer interrupt with a priority of 2
  ConfigIntTimer2(T2_INT_ON | T2_INT_PRIOR_2);
  mT2ClearIntFlag(); // and clear the interrupt flag

  // SCK2 is pin 26
  // SDO2 (MOSI) is in PPS output group 2, could be connected to RB5 which is pin 14
  PPSOutput(2, RPB5, SDO2);

  // control CS for DAC
  mPORTBSetPinsDigitalOut(BIT_4);
  mPORTBSetBits(BIT_4);

  // Input for Encoder
  mPORTBSetPinsDigitalIn(BIT_7);
  mPORTBSetPinsDigitalIn(BIT_8);
  mPORTBSetPinsDigitalIn(BIT_13);
  

  // divide Fpb by 2, configure the I/O ports. Not using SS in this example
  // 16 bit transfer CKP=1 CKE=1
  // possibles SPI_OPEN_CKP_HIGH;   SPI_OPEN_SMP_END;  SPI_OPEN_CKE_REV
  // For any given peripherial, you will need to match these
  // clk divider set to 4 for 10 MHz
  SpiChnOpen(SPI_CHANNEL2, SPI_OPEN_ON | SPI_OPEN_MODE16 | SPI_OPEN_MSTEN | SPI_OPEN_CKE_REV, 4);
  // end DAC setup

  // init the display
  tft_init_hw();
  tft_begin();
  tft_fillScreen(ILI9340_BLACK);
  //240x320 vertical display
  tft_setRotation(0); // Use tft_setRotation(1) for 320x240
  tft_setCursor(0, 0);

  // === config the uart, DMA, vref, timer5 ISR ===========
  PT_setup();

  // === setup system wide interrupts  ====================
  INTEnableSystemMultiVectoredInt();

  pt_add(protothread_time, 0);
  pt_add(protothread_serial, 0);
  pt_add(protothread_listbox, 0);
  pt_add(protothread_python_string, 0);
  pt_add(protothread_encoder, 0);

  // === initalize the scheduler ====================
  PT_INIT(&pt_sched);

  pt_sched_method = SCHED_ROUND_ROBIN;

  // === scheduler thread =======================
  // scheduler never exits
  PT_SCHEDULE(protothread_sched(&pt_sched));
  // ============================================
} // main